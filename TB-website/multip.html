<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TwinculBun - Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="dark-theme">
        <div class="container">
            <div class="logo">
                <img src="./images/logo.png" alt="App Logo">
                <h1>TwinculBun</h1>
            </div>
            <nav>
                <ul id="nav-menu">
                    <li><a href="./index.html">Home</a></li>
                    <li class="active"><a href="#">Features</a></li>
                    <li><a href="#">Download</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </nav>
            <a href="#" class="cta-button">Download Now</a>
        </div>
    </header>
    <section class="hero">
        <div class="hero-content">
            <video autoplay muted loop muted plays-inline class="background-clip">
                <source src="./images/hero2.mp4" type="video/mp4">
            </video>
        </div>
    </section>
    <header>
        <br><br>
        <h1 id="app-features-title">Our App Features</h1>
    </header>
    <div class="container">
        <div class="card">
            <img src="./images/1.png" alt="Placeholder Image">
            <div class="card-content">
                <h2 class="card-title">Multiplication Table Game</h2>
            </div>
        </div>

        <div class="panel">
            <div id="start-page">
                <h3>Welcome to Multiplication Table Game</h3>
                <button onclick="startGame()">Start Game</button>
            </div>

            <div id="game-page" style="display: none;">
                <h3>Multiplication Table Game</h3>
                <div id="question-container">
                    <p id="question"></p>
                    <div id="options"></div>
                </div>
                <div id="result-popup">
                    <p id="result-message"></p>
                    <button onclick="nextQuestion()">Next Question</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let correctAnswer;
        let attemptCount = 0;

        function startGame() {
            document.getElementById('start-page').style.display = 'none';
            document.getElementById('game-page').style.display = 'block';
            generateQuestion();
        }

        function generateQuestion() {
            const num1 = Math.floor(Math.random() * 9) + 1; 
            const num2 = Math.floor(Math.random() * 9) + 1;
            correctAnswer = num1 * num2;

            document.getElementById('question').textContent = `What is ${num1} Ã— ${num2} = ?`;

            const options = document.getElementById('options');
            options.innerHTML = '';
            const shuffledOptions = shuffleArray([correctAnswer, correctAnswer + 1, correctAnswer - 1, correctAnswer + 2]);
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.onclick = () => checkAnswer(option);
                options.appendChild(button);
            });
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function checkAnswer(answer) {
            if (answer == correctAnswer) {
                showResultPopup("Correct!");
            } else {
                attemptCount++;
                if (attemptCount >= 3) {
                    showResultPopup("You have reached maximum attempts. Game Over!");
                    attemptCount = 0; // Reset attempt count
                    document.getElementById('game-page').style.display = 'none';
                    document.getElementById('start-page').style.display = 'block';
                    document.getElementById('start-page').innerHTML += '<p>Restart</p>';
                } else {
                    alert("Wrong Answer! Please try again.");
                }
            }
        }

        function showResultPopup(message) {
            document.getElementById('result-message').textContent = message;
            document.getElementById('result-popup').style.display = 'block';
        }

        function nextQuestion() {
            generateQuestion();
            document.getElementById('result-popup').style.display = 'none';
        }
    </script>
</body>
</html>
